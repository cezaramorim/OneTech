{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
<div class="container py-4">
  <h2 class="mb-4 text-primary text-center">Painel Administrativo OneTech</h2>

  <div class="card shadow-sm">
    <div class="card-header d-flex justify-content-between align-items-center" id="cadastros-toggle" style="cursor: pointer;">
      <span class="fw-bold d-flex align-items-center">
        <img src="{% static 'icons/pasta.png' %}" alt="Ícone de pasta" class="me-2" style="width: 20px;">
        Cadastros
      </span>
      <span id="toggle-icon">▼</span>
    </div>

    <div class="card-body p-0">
      <ul id="cadastros" class="list-group list-group-flush" style="display: none;">
        <li class="list-group-item">
          <a href="{% url 'accounts:signup' %}" class="text-decoration-none text-dark">Cadastrar Novo Usuário</a>
        </li>
        <li class="list-group-item">
          <a href="{% url 'empresas:cadastrar_empresa_avancada' %}" class="text-decoration-none text-dark">Cadastrar Nova Empresa</a>
        </li>
        <li class="list-group-item">
          <a href="{% url 'empresas:cadastrar_categoria_avancada' %}">Cadastrar Nova Categoria</a>
        </li>
        <li class="list-group-item">
          <a href="{% url 'accounts:lista_usuarios' %}" class="text-decoration-none text-dark">Lista de Usuários</a>
        </li>
      </ul>
    </div>
  </div>
</div>

{{ block.super }}

<!-- Script de toggle -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.getElementById('cadastros-toggle');
    const lista = document.getElementById('cadastros');
    const icon = document.getElementById('toggle-icon');

    toggle?.addEventListener('click', () => {
      const isVisible = lista.style.display === 'block';
      lista.style.display = isVisible ? 'none' : 'block';
      icon.textContent = isVisible ? '▼' : '▲';
    });
  });
</script>
{% endblock %}



