{% load static %}

<div class="container mt-4" data-tela="empresa_avancada">
  <h2 class="mb-4">Cadastro Avançado de Empresa</h2>

  <form method="post" id="form-empresa-avancada">
    {% csrf_token %}

    <ul class="nav nav-tabs mb-3" id="empresaTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="identificacao-tab" data-bs-toggle="tab" data-bs-target="#identificacao" type="button" role="tab">Identificação</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="endereco-tab" data-bs-toggle="tab" data-bs-target="#endereco" type="button" role="tab">Endereço</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="contato-tab" data-bs-toggle="tab" data-bs-target="#contato" type="button" role="tab">Contato</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="financeiro-tab" data-bs-toggle="tab" data-bs-target="#financeiro" type="button" role="tab">Financeiro</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="comercial-tab" data-bs-toggle="tab" data-bs-target="#comercial" type="button" role="tab">Comercial</button>
      </li>
    </ul>

    <div class="tab-content" id="empresaTabsContent">
      <div class="tab-pane fade show active p-3" id="identificacao" role="tabpanel">
        <div class="mb-3">
          <label for="tipo_empresa" class="form-label">Tipo de Empresa</label>
          <select name="tipo_empresa" id="tipo_empresa" class="form-select" required>
            <option value="">Selecione</option>
            <option value="pj">Pessoa Jurídica</option>
            <option value="pf">Pessoa Física</option>
          </select>
        </div>

        <!-- Pessoa Jurídica -->
        <div class="grupo-pj d-none">
          <div class="mb-3"><label class="form-label">Razão Social</label><input type="text" name="razao_social" class="form-control"></div>
          <div class="mb-3"><label class="form-label">Nome Fantasia</label><input type="text" name="nome_fantasia" class="form-control"></div>
          <div class="mb-3"><label class="form-label">CNPJ</label><input type="text" name="cnpj" class="form-control mascara-cnpj"></div>
          <div class="mb-3"><label class="form-label">Inscrição Estadual</label><input type="text" name="inscricao_estadual" class="form-control mascara-ie"></div>
        </div>

        <!-- Pessoa Física -->
        <div class="grupo-pf d-none">
          <div class="mb-3"><label class="form-label">Nome Completo</label><input type="text" name="nome_completo" class="form-control"></div>
          <div class="mb-3"><label class="form-label">CPF</label><input type="text" name="cpf" class="form-control mascara-cpf"></div>
          <div class="mb-3"><label class="form-label">RG</label><input type="text" name="rg" class="form-control"></div>
          <div class="mb-3"><label class="form-label">Profissão</label><input type="text" name="profissao" class="form-control"></div>
        </div>

        <div class="mb-3"><label class="form-label">CNAE Principal</label><input type="text" name="cnae_principal" class="form-control"></div>
        <div class="mb-3"><label class="form-label">CNAE Secundário</label><input type="text" name="cnae_secundario" class="form-control"></div>
	<div class="mb-3">{{ form.categoria.label_tag }} {{ form.categoria }}</div>
        <div class="mb-3">{{ form.status_empresa.label_tag }} {{ form.status_empresa }}</div>
        <div class="mb-3"><label class="form-label">Data de Abertura</label><input type="date" name="data_abertura" class="form-control"></div>
        <div class="mb-3"><label class="form-label">Data de Cadastro</label><input type="date" name="data_cadastro" class="form-control" value="{{ today|date:'Y-m-d' }}"></div>
      </div>

      <div class="tab-pane fade p-3" id="endereco" role="tabpanel">
        <div class="mb-3">{{ form.cep.label_tag }} {{ form.cep }}</div>
        <div class="mb-3">{{ form.logradouro.label_tag }} {{ form.logradouro }}</div>
        <div class="mb-3">{{ form.numero.label_tag }} {{ form.numero }}</div>
        <div class="mb-3">{{ form.complemento.label_tag }} {{ form.complemento }}</div>
        <div class="mb-3">{{ form.bairro.label_tag }} {{ form.bairro }}</div>
        <div class="mb-3">{{ form.cidade.label_tag }} {{ form.cidade }}</div>
        <div class="mb-3">{{ form.uf.label_tag }} {{ form.uf }}</div>
      </div>

      <div class="tab-pane fade p-3" id="contato" role="tabpanel">
        <div class="mb-3">{{ form.telefone.label_tag }} {{ form.telefone }}</div>
        <div class="mb-3">{{ form.celular.label_tag }} {{ form.celular }}</div>
        <div class="mb-3">{{ form.whatsapp.label_tag }} {{ form.whatsapp }}</div>
        <div class="mb-3">{{ form.email.label_tag }} {{ form.email }}</div>
        <div class="mb-3">{{ form.site.label_tag }} {{ form.site }}</div>
      </div>

      <div class="tab-pane fade p-3" id="financeiro" role="tabpanel">
        <div class="mb-3">{{ form.contato_financeiro_nome.label_tag }} {{ form.contato_financeiro_nome }}</div>
        <div class="mb-3">{{ form.contato_financeiro_email.label_tag }} {{ form.contato_financeiro_email }}</div>
        <div class="mb-3">{{ form.contato_financeiro_telefone.label_tag }} {{ form.contato_financeiro_telefone }}</div>
        <div class="mb-3">{{ form.contato_financeiro_celular.label_tag }} {{ form.contato_financeiro_celular }}</div>
      </div>

      <div class="tab-pane fade p-3" id="comercial" role="tabpanel">
        <div class="mb-3">{{ form.contato_comercial_nome.label_tag }} {{ form.contato_comercial_nome }}</div>
        <div class="mb-3">{{ form.contato_comercial_email.label_tag }} {{ form.contato_comercial_email }}</div>
        <div class="mb-3">{{ form.contato_comercial_telefone.label_tag }} {{ form.contato_comercial_telefone }}</div>
        <div class="mb-3">{{ form.contato_comercial_celular.label_tag }} {{ form.contato_comercial_celular }}</div>
        <div class="mb-3">{{ form.vendedor.label_tag }} {{ form.vendedor }}</div>
        <div class="mb-3">{{ form.condicao_pagamento.label_tag }} {{ form.condicao_pagamento }}</div>
        <div class="mb-3">{{ form.comissao.label_tag }} {{ form.comissao }}</div>
        <div class="mb-3">{{ form.observacoes.label_tag }} {{ form.observacoes }}</div>
        
      </div>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Salvar Empresa</button>
  </form>
</div>