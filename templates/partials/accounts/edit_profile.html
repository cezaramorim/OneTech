{% load static %}
{% load widget_tweaks %}

<main id="main-content" class="container-fluid py-4" data-page="edit_profile">
  <!-- ðŸ”” Mensagens instantÃ¢neas -->
  

  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="text-center mb-4">
        <h2 class="text-dark dark:text-white">Editar Perfil</h2>
        <p class="text-muted dark:text-light">Atualize seus dados pessoais ou altere sua senha.</p>
      </div>

      <div class="card shadow-sm p-4">
        <form method="post" class="ajax-form" data-url="{% url 'accounts:edit_profile' %}" data-response-type="json">
          {% csrf_token %}

          <!-- ðŸ‘¤ Nome completo -->
          <div class="mb-3">
            <label for="{{ form.nome_completo.id_for_label }}" class="form-label">Nome Completo</label>
            {{ form.nome_completo|add_class:"form-control" }}
          </div>

          <!-- ðŸ“§ E-mail -->
          <div class="mb-3">
            <label for="{{ form.email.id_for_label }}" class="form-label">E-mail</label>
            {{ form.email|add_class:"form-control" }}
          </div>

          {% if form.grupo %}
          <!-- ðŸ‘¥ Grupo -->
          <div class="mb-3">
            <label for="{{ form.grupo.id_for_label }}" class="form-label">Grupo</label>
            {{ form.grupo|add_class:"form-select" }}
          </div>
          {% endif %}

          <hr>
          <h5 class="mb-3">Alterar Senha <small class="text-muted">(opcional)</small></h5>

          <!-- ðŸ” Nova senha -->
          <div class="mb-3">
            <label for="{{ form.new_password1.id_for_label }}" class="form-label">Nova Senha</label>
            {{ form.new_password1|add_class:"form-control" }}
          </div>

          <!-- ðŸ” Confirmar nova senha -->
          <div class="mb-3">
            <label for="{{ form.new_password2.id_for_label }}" class="form-label">Confirme a Nova Senha</label>
            {{ form.new_password2|add_class:"form-control" }}
          </div>

          <!-- âœ… BotÃµes -->
          <div class="d-flex justify-content-between mt-4">
            <button type="submit" class="btn btn-primary w-50 me-2">ðŸ’¾ Salvar AlteraÃ§Ãµes</button>
            <a href="{% url 'painel:home' %}" class="btn btn-secondary w-50 ajax-link">Cancelar</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</main>
